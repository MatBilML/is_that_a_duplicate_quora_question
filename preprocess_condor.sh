#!/bin/bash

starts=(2 10001 20001 30001 40001 50001 60001 70001 80001 90001 100001 110001 120001 130001 140001 150001 160001 170001 180001 190001 200001 210001 220001 230001 240001 250001 260001 270001 280001 290001 300001 310001 320001 330001 340001 350001 360001 370001 380001 390001 400001)
ends=(10000 20000 30000 40000 50000 60000 70000 80000 90000 100000 110000 120000 130000 140000 150000 160000 170000 180000 190000 200000 210000 220000 230000 240000 250000 260000 270000 280000 290000 300000 310000 320000 330000 340000 350000 360000 370000 380000 390000 400000 404302)

#starts=(2 1001 2001 3001 4001 5001 6001 7001 8001 9001 10001 11001 12001 13001 14001 15001 16001 17001 18001 19001 20001 21001 22001 23001 24001 25001 26001 27001 28001 29001 30001 31001 32001 33001 34001 35001 36001 37001 38001 39001 40001 41001 42001 43001 44001 45001 46001 47001 48001 49001 50001 51001 52001 53001 54001 55001 56001 57001 58001 59001 60001 61001 62001 63001 64001 65001 66001 67001 68001 69001 70001 71001 72001 73001 74001 75001 76001 77001 78001 79001 80001 81001 82001 83001 84001 85001 86001 87001 88001 89001 90001 91001 92001 93001 94001 95001 96001 97001 98001 99001 100001 101001 102001 103001 104001 105001 106001 107001 108001 109001 110001 111001 112001 113001 114001 115001 116001 117001 118001 119001 120001 121001 122001 123001 124001 125001 126001 127001 128001 129001 130001 131001 132001 133001 134001 135001 136001 137001 138001 139001 140001 141001 142001 143001 144001 145001 146001 147001 148001 149001 150001 151001 152001 153001 154001 155001 156001 157001 158001 159001 160001 161001 162001 163001 164001 165001 166001 167001 168001 169001 170001 171001 172001 173001 174001 175001 176001 177001 178001 179001 180001 181001 182001 183001 184001 185001 186001 187001 188001 189001 190001 191001 192001 193001 194001 195001 196001 197001 198001 199001 200001 201001 202001 203001 204001 205001 206001 207001 208001 209001 210001 211001 212001 213001 214001 215001 216001 217001 218001 219001 220001 221001 222001 223001 224001 225001 226001 227001 228001 229001 230001 231001 232001 233001 234001 235001 236001 237001 238001 239001 240001 241001 242001 243001 244001 245001 246001 247001 248001 249001 250001 251001 252001 253001 254001 255001 256001 257001 258001 259001 260001 261001 262001 263001 264001 265001 266001 267001 268001 269001 270001 271001 272001 273001 274001 275001 276001 277001 278001 279001 280001 281001 282001 283001 284001 285001 286001 287001 288001 289001 290001 291001 292001 293001 294001 295001 296001 297001 298001 299001 300001 301001 302001 303001 304001 305001 306001 307001 308001 309001 310001 311001 312001 313001 314001 315001 316001 317001 318001 319001 320001 321001 322001 323001 324001 325001 326001 327001 328001 329001 330001 331001 332001 333001 334001 335001 336001 337001 338001 339001 340001 341001 342001 343001 344001 345001 346001 347001 348001 349001 350001 351001 352001 353001 354001 355001 356001 357001 358001 359001 360001 361001 362001 363001 364001 365001 366001 367001 368001 369001 370001 371001 372001 373001 374001 375001 376001 377001 378001 379001 380001 381001 382001 383001 384001 385001 386001 387001 388001 389001 390001 391001 392001 393001 394001 395001 396001 397001 398001 399001 400001 401001 402001 403001 404001)
#ends=(1000 2000 3000 4000 5000 6000 7000 8000 9000 10000 11000 12000 13000 14000 15000 16000 17000 18000 19000 20000 21000 22000 23000 24000 25000 26000 27000 28000 29000 30000 31000 32000 33000 34000 35000 36000 37000 38000 39000 40000 41000 42000 43000 44000 45000 46000 47000 48000 49000 50000 51000 52000 53000 54000 55000 56000 57000 58000 59000 60000 61000 62000 63000 64000 65000 66000 67000 68000 69000 70000 71000 72000 73000 74000 75000 76000 77000 78000 79000 80000 81000 82000 83000 84000 85000 86000 87000 88000 89000 90000 91000 92000 93000 94000 95000 96000 97000 98000 99000 100000 101000 102000 103000 104000 105000 106000 107000 108000 109000 110000 111000 112000 113000 114000 115000 116000 117000 118000 119000 120000 121000 122000 123000 124000 125000 126000 127000 128000 129000 130000 131000 132000 133000 134000 135000 136000 137000 138000 139000 140000 141000 142000 143000 144000 145000 146000 147000 148000 149000 150000 151000 152000 153000 154000 155000 156000 157000 158000 159000 160000 161000 162000 163000 164000 165000 166000 167000 168000 169000 170000 171000 172000 173000 174000 175000 176000 177000 178000 179000 180000 181000 182000 183000 184000 185000 186000 187000 188000 189000 190000 191000 192000 193000 194000 195000 196000 197000 198000 199000 200000 201000 202000 203000 204000 205000 206000 207000 208000 209000 210000 211000 212000 213000 214000 215000 216000 217000 218000 219000 220000 221000 222000 223000 224000 225000 226000 227000 228000 229000 230000 231000 232000 233000 234000 235000 236000 237000 238000 239000 240000 241000 242000 243000 244000 245000 246000 247000 248000 249000 250000 251000 252000 253000 254000 255000 256000 257000 258000 259000 260000 261000 262000 263000 264000 265000 266000 267000 268000 269000 270000 271000 272000 273000 274000 275000 276000 277000 278000 279000 280000 281000 282000 283000 284000 285000 286000 287000 288000 289000 290000 291000 292000 293000 294000 295000 296000 297000 298000 299000 300000 301000 302000 303000 304000 305000 306000 307000 308000 309000 310000 311000 312000 313000 314000 315000 316000 317000 318000 319000 320000 321000 322000 323000 324000 325000 326000 327000 328000 329000 330000 331000 332000 333000 334000 335000 336000 337000 338000 339000 340000 341000 342000 343000 344000 345000 346000 347000 348000 349000 350000 351000 352000 353000 354000 355000 356000 357000 358000 359000 360000 361000 362000 363000 364000 365000 366000 367000 368000 369000 370000 371000 372000 373000 374000 375000 376000 377000 378000 379000 380000 381000 382000 383000 384000 385000 386000 387000 388000 389000 390000 391000 392000 393000 394000 395000 396000 397000 398000 399000 400000 401000 402000 403000 404000 404302)

try='try1/'
mkdir -p $try
for i in `seq 0 40`; do # 405
	st=${starts[$i]}
	end=${ends[$i]}

	range=$st'_'$end
	echo ----------- Range: $range ----------

	input_file=$try'input_file_'$range'.tsv'
	output_file=$try'output_features_'$range'.csv'

	log_file=$try'logfile_'$range'.log'

    condor_file=$try'condor.script_'$range

    condor_log_file=$try'condor_log_'$range
    condor_output_file=$try'condor_output_'$range
    condor_error_file=$try'condor_error_'$range

	echo 'input_file: ' $input_file
	echo 'output_file: ' $output_file

	head -n1 data/quora_duplicate_questions.tsv > $input_file
	sed -n $st,"$end"p data/quora_duplicate_questions.tsv >> $input_file

    cat condor.script_head > $condor_file
    echo 'arguments = /u/pandian/nlp_project/is_that_a_duplicate_quora_question/trigger_preprocess.sh '$input_file' '$output_file >> $condor_file
    echo 'Log = /u/pandian/nlp_project/is_that_a_duplicate_quora_question/'$condor_log_file'.log' >> $condor_file
    echo 'Output = /u/pandian/nlp_project/is_that_a_duplicate_quora_question/'$condor_output_file'.log' >> $condor_file
    echo 'Error  = /u/pandian/nlp_project/is_that_a_duplicate_quora_question/'$condor_error_file'.log' >> $condor_file

    echo 'Queue 1' >> $condor_file

	# nohup python -u additional_feature_engineering.py $input_file $output_file &> $log_file &
done
